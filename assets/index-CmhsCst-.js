var w=Object.defineProperty;var m=(o,t,e)=>t in o?w(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var r=(o,t,e)=>m(o,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();class y{constructor(t,e,s){r(this,"ctx");r(this,"width");r(this,"height");r(this,"centerX");r(this,"centerY");r(this,"clearCanvas",()=>{this.ctx&&(this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.width,this.height))});r(this,"drawNodes",t=>{const e=[];for(let s=0;s<t.length;s++){if(t[s].z>=0){e.push(t[s]);continue}const i=this.centerX+t[s].x,n=this.centerY+t[s].y;this.drawCircle(i,n,t[s].size,t[s].color)}for(let s=0;s<e.length;s++){const i=this.centerX+e[s].x,n=this.centerY+e[s].y;this.drawCircle(i,n,e[s].size,e[s].color)}});r(this,"drawEdges",t=>{for(let e=0;e<t.length;e++);});r(this,"drawCircle",(t,e,s,i)=>{this.ctx&&(this.ctx.beginPath(),this.ctx.arc(t,e,s,0,2*Math.PI),this.ctx.fillStyle=i,this.ctx.fill(),this.ctx.stroke())});this.ctx=t.getContext("2d"),this.width=e,this.height=s,this.centerX=e/2,this.centerY=s/2}}class p{constructor(t,e,s){r(this,"id");r(this,"x");r(this,"y");r(this,"z");r(this,"color");r(this,"size");r(this,"edgeConnections");this.id="",this.x=t,this.y=e,this.z=s,this.color="red",this.size=5,this.edgeConnections=[]}}class b{constructor(t,e,s){r(this,"drawCanvas");r(this,"element");r(this,"nodes");r(this,"edges");r(this,"rotX");r(this,"rotY");r(this,"rotZ");r(this,"zoom");r(this,"step");r(this,"updateCanvasSize",(t,e)=>{this.element.width=t,this.element.height=e});r(this,"generateCube",t=>{for(let e=-1;e<2;e+=2)for(let s=-1;s<2;s+=2)for(let i=-1;i<2;i+=2)this.nodes.push(new p(e*t,s*t,i*t))});r(this,"calculateRotation",(t,e,s)=>{const i=Math.sin(this.rotX*this.step),n=Math.cos(this.rotX*this.step),c=Math.sin(this.rotY*this.step),l=Math.cos(this.rotY*this.step),a=Math.sin(this.rotZ*this.step),h=Math.cos(this.rotZ*this.step),f=t*n*l+e*n*c*a-e*i*h+s*n*c*h+s*i*a,g=t*i*l+e*i*c*a+e*n*h+s*i*c*h-s*n*a,x=-t*c+e*l*a+s*l*h;return new p(f,g,x)});r(this,"render",()=>{this.drawCanvas.clearCanvas(),this.drawCanvas.drawNodes(this.nodes.map(t=>this.calculateRotation(t.x,t.y,t.z)))});r(this,"rotate",(t,e)=>{t==="x"&&(this.rotX+=e?this.step:-this.step),t==="y"&&(this.rotY+=e?this.step:-this.step),t==="z"&&(this.rotZ+=e?this.step:-this.step),this.render()});this.drawCanvas=new y(t,e,s),t.width=e,t.height=s,this.element=t,this.nodes=[],this.edges=[],this.rotX=0,this.rotY=0,this.rotZ=0,this.step=Math.PI/12,this.zoom=1}}const C=o=>{const t="bg-green-100 p-2 font-bold text-2xl text-green-700 w-16 border-4 border-black";return`
    <div id="${o}-nav" class="p-2">
      <button id="${o}-down" data-nav="${o}-down" class="${t} rounded-l-2xl">-${o.toUpperCase()}</button>
      <button id="${o}-up" data-nav="${o}-up" class="${t} rounded-r-2xl">+${o.toUpperCase()}</button>
    </div>
  `};document.querySelector("#app").innerHTML=`
  <canvas id="geodesic-canvas" class="border-4 border-black"></canvas>
  <section id="geodesic-interface" class="flex">
    ${["x","y","z"].map(o=>C(o)).join("")}
  </section>
`;const v=document.querySelector("#geodesic-canvas"),u=new b(v,800,800),d=document.querySelectorAll("[data-nav]");for(let o=0;o<d.length;o++)d[o].addEventListener("click",()=>{const[t,e]=d[o].dataset.nav.split("-");u.rotate(t,e==="up")});u.generateCube(100);u.render();
